!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r=n();for(var t in r)("object"==typeof exports?exports:e)[t]=r[t]}}("undefined"!=typeof self?self:this,function(){return function(e){var n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=7)}([function(e,n,r){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=(+new Date+"").slice(-3),i=navigator.userAgent,a={isBoxApp:function(e){return e=e||"",!1!==/ baiduboxapp\//i.test(i)&&!(i.indexOf(e+" baiduboxapp")<0)},isIOS:/(iPhone|iPod|iPad)/.test(i),$isIOS:function(){var e=window.navigator||{};return/(iPhone|iPod|iPad)/.test(e.userAgent)},isAndroid:/(Android);?[\s\/]+([\d.]+)?/.test(i),$isAndroid:function(){var e=window.navigator||{};return/(Android);?[\s\/]+([\d.]+)?/.test(e.userAgent)},getId:function(){return o++},emptyArr:[],emptyFn:function(){},cleanObj:{},byId:function(e){return a.isString(e)?document.getElementById(e):e},toArray:function(e){return a.emptyArr.slice.call(e)},$:function(e,n){return n=n&&1===n.nodeType?n:document,a.toArray(n.querySelectorAll(e))}};"Function,String,Array,Number,RegExp".replace(/[^, ]+/g,function(e){a["is"+e]=function(n){return function(e,n){return a.cleanObj.toString.call(e).slice(8,-1)===n}(n,e)}}),a.isBoolean=function(e){return!0===e||!1===e},a.isObject=function(e){return"object"===(void 0===e?"undefined":t(e))},a.isUndefined=function(e){return void 0===e},a.isWindow=function(e){return null!=e&&e==e.window},a.isPlainObject=function(e){return a.isObject(e)&&!a.isWindow(e)&&Object.getPrototypeOf(e)==Object.prototype},a.cbWithoutCache=function(e,n){var r="_bdbox_js_"+a.getId();return window[r]=function(r){try{r=a.isString(r)?JSON.parse(r):r}catch(e){console.log("native callback params json parse error")}n&&a.isFunction(n)?e(n(r)):e(r)},r},a.sdkError={COMMAND_NOT_EXIST:{errCode:901,errMsg:"不存在此端能力"},NOT_IN_BDBOX:{errCode:902,errMsg:"手百外无法调用端能力"},COMMAND_FAIL:{errCode:903,errMsg:"端能力调用失败"},COMMAND_SUCCESS:{errCode:0,errMsg:"调用成功"}},a.callbackResHandle=function(e){var n="",r="",t={};if(a.isObject(e))n=e.errCode>=0?e.errCode:+e.status,r=e.errMsg||e.message,t=e.data;else{try{e=JSON.parse(e)}catch(e){console.log(e)}n=+e.status||e.status||e,t=e.data||arguments[1]}return{errCode:n,errMsg:r,data:t||{}}},e.exports=a},function(e,n,r){"use strict";e.exports={androidInvoke:function(e){var n=window.Bdbox_android_jsbridge;if(!n||!n.dispatch)return window.prompt("BdboxApp:"+JSON.stringify({obj:"Bdbox_android_jsbridge",func:"dispatch",args:[e]}));n.dispatch(e)},iosInvoke:function(e){window.webkit.messageHandlers.BBAMNPJSBridgeWebViewComponent.postMessage(e)},androidSync:function(e){return window.Bdbox_aiapps_jsbridge.dispatch(e)},iosSync:function(e){return window.prompt("BdboxApp:"+JSON.stringify({obj:"mnp",func:"dispatch",args:[e]}))}}},function(e,n,r){"use strict";var t=r(0),o=r(3),i=r(4),a=r(9).apply(t);e.exports={versionCompare:o,isIOS:t.isIOS,isAndroid:t.isAndroid,os:t.isIOS?"ios":t.isAndroid?"android":"none",osVersion:a.version,isBox:t.isBoxApp(),boxVersion:i()}},function(e,n,r){"use strict";r(0);e.exports=function(e,n){n+="";for(var r=(e+="").split("."),t=n.split("."),o=0,i=Math.max(r.length,t.length);o<i;o++){if(r[o]&&!t[o]&&parseInt(r[o],10)>0||parseInt(r[o],10)>parseInt(t[o],10))return 1;if(t[o]&&!r[o]&&parseInt(t[o],10)>0||parseInt(r[o],10)<parseInt(t[o],10))return-1}return 0}},function(e,n,r){"use strict";var t=r(0),o=function(){var e=0;if(window.baiduboxapp_version)e=window.baiduboxapp_version;else if(t.isBoxApp()){var n,r=navigator.userAgent;(n=/([\d+.]+)_(?:diordna|enohpi)_/.exec(r))?(n=n[1].split("."),e=n.reverse().join(".")):(n=/baiduboxapp\/([\d+.]+)/.exec(r))&&(e=n[1])}return o=function(){return e},e};e.exports=o},function(e,n,r){"use strict";var t=r(0),o=t.isPlainObject,i=t.isArray,a=t.isBoolean,s=t.isUndefined;e.exports=function(e){var n,r=t.emptyArr.slice.call(arguments,1);return a(e)&&(n=e,e=r.shift()),r.forEach(function(r){!function e(n,r,t){for(var a in r)t&&(o(r[a])||i(r[a]))?(o(r[a])&&!o(n[a])&&(n[a]={}),i(r[a])&&!i(n[a])&&(n[a]=[]),e(n[a],r[a],t)):s(r[a])||(n[a]=r[a])}(e,r,n)}),e}},function(e,n,r){"use strict";e.exports={"swan/webviewPostMessage":{v:33,versionRange:["10.12"]},"swan/postMessage":{v:19,versionRange:["10.3"]},"utils/makePhoneCall":{v:19,versionRange:["10.3"]},"swan/launch":{v:19,versionRange:["10.3"]},"swan/login":{v:19,versionRange:["10.3"]},"swan/openApp":{v:26,versionRange:["10.7"]},"utils/setClipboardData":{v:19,versionRange:["10.3"]},"utils/getNetworkType":{v:19,versionRange:["10.3"]},"swan/pageTransition":{v:36,versionRange:["11.0"]},"swan/getCommonSysInfo":{v:28,versionRange:["10.8.5"]},"utils/previewImage":{v:19,versionRange:["10.3"]},"swan/setNavigationBarTitle":{v:19,versionRange:["10.3"]}}},function(e,n,r){"use strict";var t=r(8),o={};!function(e){for(var n in t)!function(n){var r="";if(n.indexOf(".")>0){var o=n.split(".");r=o[0]+"."+o[1],e[o[0]]=e[o[0]]||{},e[o[0]][o[1]]=i}else r=n,e[n]=i;function i(e){return t[r](e)}}(n)}(o),window.swan=o},function(e,n,r){"use strict";var t=r(2),o=t.versionCompare,i=t.boxVersion,a=t.isAndroid,s=r(10),c=r(0),u="10.10.0",d=r(1),p=d.androidInvoke,f=d.iosInvoke,l=r(18),v=l.toJson,m=l.createPromise,w=l.getParamsCBName;function g(e){if(a&&o(i,u)>=0)return window.Bdbox_aiapps_jsbridge.setData(n,JSON.stringify(e));var n="master",r={};r=o(i,u)>=0&&!a?{webviewid:n,message:JSON.stringify(e)}:{webviewid:n,message:encodeURIComponent(JSON.stringify(e))};var t="baiduboxapp://v19/swan/postMessage?params="+encodeURIComponent(JSON.stringify(r))+"&upgrade=0";a?p(t):f(t)}function b(e,n){c.isArray(e)?Promise.all(e).then(function(e){n.success&&n.success(e),n.complete&&n.complete(e)}).catch(function(e){n.fail&&n.fail(e),n.complete&&n.complete(e)}):e.then(function(e){n.success&&n.success(e),n.complete&&n.complete(e)}).catch(function(e){n.fail&&n.fail(e),n.complete&&n.complete(e)})}function h(e){var n=e.paramsCBName,r=e.params||{},t=void 0;return n&&(r.cb=c.isFunction(n)?n():n,t=m(r.cb,v)),t}e.exports={"webView.navigateTo":function(e){g({type:"webviewNavigateTo",params:e})},"webView.navigateBack":function(e){g({type:"webviewNavigateBack",params:e})},"webView.switchTab":function(e){g({type:"webviewSwitchTab",params:e})},"webView.reLaunch":function(e){g({type:"webviewReLaunch",params:e})},"webView.redirectTo":function(e){g({type:"webviewRedirectTo",params:e})},"webView.postMessage":function(e){void 0!==e?(void 0!==e.data&&"function"!=typeof e.data&&""!==e.data&&!1!==e.data&&null!==e.data||(e.data={}),e.data=JSON.stringify(e.data),s("swan/webviewPostMessage",{params:e})):console.log("参数错误，参数必须为data！")},makePhoneCall:function(e){b(s("utils/makePhoneCall",{params:e}),e)},"webView.getEnv":function(e){var n=!1;a&&window.Bdbox_aiapps_jsbridge&&(n=!0),!a&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.BBAMNPJSBridgeWebViewComponent&&(n=!0);var r={smartprogram:n};if("function"!=typeof e)return r;e(r)},navigateToSmartProgram:function(e){e.appid=e.appKey||e.appid||"",e.navi="naviTo",e.url=e.path||"",b(s("swan/launch",{params:e}),e)},login:function(e){var n={params:e,paramsCBName:w},r=h(n);b([s("swan/login",n),r],e)},openApp:function(e){b(s("swan/openApp",{params:e}),e)},openShare:function(e){var n=w();window[n]=function(n){e.success&&e.success(n)};var r=w();window[r]=function(n){e.fail&&e.fail(n)};var t=[],o=e.appKey;o&&t.push("appid="+o);var i=e.path||"";i&&t.push("url="+encodeURIComponent(i));var c="https://po.baidu.com/act/tpl/index.html?t=smartapppage&"+t.join("&"),u="https://b.bdstatic.com/searchbox/icms/searchbox/img/LOGO300x300.jpg",d=e.type||"url";"image"!==d&&e.imageUrl&&(u=e.imageUrl);var p=["weixin_friend","weixin_timeline","qqfriend","qqdenglu","baiduhi","baidu_friend","sinaweibo"],f={pannel:a?p:[].concat(p,["screenshot","others"]),linkUrl:c,type:d,iconUrl:u,source:"swan",shareSuccessCB:n,shareErrorCB:r};Object.keys(f).forEach(function(n){e[n]=f[n]}),b(s("utils/openShareBox",e),e)},setClipboardData:function(e){b(s("utils/setClipboardData",{params:e}),e)},getNetworkType:function(e){b(s("utils/getNetworkType",{params:e}),e)},openBdboxWebview:function(e){e.data=e.data?e.data:{},e.scheme=e.data,delete e.data,e.scheme.upgrade=0,"wallet"===e.module&&(e.scheme.url="https://www.baifubao.com/content/mywallet/h5/sdk_page/sdk_quan_manager.html");var n={params:e,paramsCBName:w},r=h(n);b([s("swan/pageTransition",n),r],e)},getCommonSysInfo:function(e){var n={params:e,paramsCBName:w},r=h(n);b([s("swan/getCommonSysInfo",n),r],e)},previewImage:function(e){o(i,"10.6")<0&&a&&e.urls&&e.urls.forEach(function(n,r){e.current===n&&(e.current=r+"")}),e.from="swan",b(s("utils/previewImage",{params:e}),e)},setNavigationBarTitle:function(e){if(a&&o(i,"10.7.5")<0){var n=e.title+"";n=n.slice(0,10)+"...",e.title=n}b(s("swan/setNavigationBarTitle",{params:e}),e)}}},function(e,n,r){"use strict";var t=r(0);function o(e){var n={name:"unknown",version:0};this===window||this.os||(this.os=n);var r=(e=e||navigator.userAgent).match(/(Android);?\s+([\d.]+)?/);if(r)return n.android=!0,n.version=r[2],n.name="android",n;var t=e.match(/(iPad).*OS\s([\d_]+)/),o=e.match(/(iPod)(.*OS\s([\d_]+))?/),i=!t&&e.match(/(iPhone\sOS)\s([\d_]+)/);return i&&!o?(n.ios=n.iphone=!0,n.version=i[2].replace(/_/g,"."),n.name="ios",n):n}o.apply(t),e.exports=o},function(e,n,r){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(0),i=r(11),a=r(12),s=r(6),c=r(16),u=r(17),d=r(1),p=d.androidSync,f=d.iosSync,l=d.androidInvoke,v=d.iosInvoke;function m(e,n){var r={};return r=o.callbackResHandle(e),0===(r=n.thunk?n.thunk(r):r).errCode?r.data:r}e.exports=function(e,n){var r=s[e],d=/Sync/.test(e);n&&!n.cancelNumTostr&&(n=function e(n){for(var r in n)"number"==typeof n[r]?n[r]=""+n[r]:"object"===t(n[r])&&(n[r]=e(n[r]));return n}(n));if(d){var w=i(e,n||{},function(){},r);return o.isAndroid?m(p(w.scheme),r):m(f(w.scheme),r)}return new Promise(function(t,s){if(e)if(o.isBoxApp()){var d=function(e){var n=o.callbackResHandle(e);0===n.errCode?t(n.data):s({errCode:n.errCode,errMsg:n.errMsg})},p=u(e,c);if("new"===p){var f=i(e,n||{},d,r);if(o.isAndroid){var m=l(f.scheme);if(m)try{(m=JSON.parse(m))&&"false"===m.result&&window[f.func](o.sdkError.COMMAND_FAIL)}catch(e){window[f.func](o.sdkError.COMMAND_FAIL)}}else v(f.scheme)}else if("old"===p){var w={action:e,data:n||{},cb:d};w.polyfillMap=c,a(w)}else s(o.sdkError.COMMAND_NOT_EXIST)}else s(o.sdkError.NOT_IN_BDBOX);else s(o.sdkError.COMMAND_NOT_EXIST)})}},function(e,n,r){"use strict";var t=r(0);r(1).androidInvoke,r(1).iosInvoke;e.exports=function(e,n,r,o){var i,a=[],s={},c="v"+o.v+"/"+e;("{}"!==JSON.stringify(n.params)&&(s={params:encodeURIComponent(JSON.stringify(n.params))}),o.filter)?n=o.filter(n).data||s:n=s;for(var u in n)a.push(u+"="+n[u]);return i=t.cbWithoutCache(r,o.thunk),a.push("callback="+i),{scheme:"baiduboxapp://"+c+"?"+a.join("&")+"&upgrade=0",func:i}}},function(e,n,r){"use strict";var t=r(0),o=r(13),i=r(5),a=r(14),s=a.iosInvoke,c=a.androidInvoke;e.exports=function(e){var n="",r=e.data,a=e.cb,u=e.action.split("/"),d=u[0],p=u[1],f=t.isIOS?"ios":t.isAndroid?"android":"",l=o(d,p,r,f,e.polyfillMap),v=l?l.thunk:void 0;if(t.isFunction(a)?n=t.cbWithoutCache(a,v):a&&(n=a),l){e={};if(t.isObject(l.data)?t.isArray(l.data)?r=l.data||[]:i(r=r||{},l.data):r=l.data,"ios"!==f||l.noParams)e=r;else{l.action&&(e={action:l.action});var m=l.paramName||"params";r&&t.isObject(r)&&"{}"!==JSON.stringify(r)&&(e[m]=encodeURIComponent(JSON.stringify(r))),r&&t.isString(r)&&r.length&&(e[m]=encodeURIComponent(r)),l.next&&(e.next=l.next)}switch(t.isObject(l.extData)&&i(e,l.extData),f){case"ios":l.data&&l.data.shareSuccessCB&&(e.successcallback=l.data.shareSuccessCB),l.data&&l.data.shareErrorCB&&(e.errorcallback=l.data.shareErrorCB),!1===l.hasCB?s(l.module,e):s(l.module,e,n);break;case"android":var w=[];if(t.isString(e)&&e)w.push(e);else if(t.isObject(e)&&!t.isArray(e)&&"{}"!==JSON.stringify(e))w.push(JSON.stringify(e));else if(t.isArray(e)&&"[]"!==JSON.stringify(e))for(var g=0;g<e.length;g++)w.push(e[g]);if(!1!==l.hasCB&&!1!==l.async&&w.push(n),l.data&&l.data.shareSuccessCB&&w.push(l.data.shareSuccessCB),l.data&&l.data.shareErrorCB&&w.push(l.data.shareErrorCB),w.length<=0)c(l.module,l.action);else c(l.module,l.action,w)}!1===l.hasCB&&window[n](JSON.stringify(t.sdkError.COMMAND_SUCCESS))}else window[n](JSON.stringify(t.sdkError.COMMAND_NOT_EXIST))}},function(e,n,r){"use strict";var t=r(0),o=r(5);r(2);e.exports=function(e,n,r,i,a){var s=a[e+"/"+n],c={},u=i,d=s[i];if(d){var p=d.filter||s[u].filter;return c={module:e,action:n,data:r,extData:{},hasCB:d.hasCB||s[u].hasCB},p&&t.isFunction(p)&&o(c,p(e,n,r)),d.thunk&&t.isFunction(d.thunk)&&(c.thunk=d.thunk||s[u].thunk),c}}},function(e,n,r){"use strict";var t=r(15);e.exports={iosInvoke:function(e,n,r){var t=[];for(var o in n)t.push(o+"="+n[o]);if(r){var i="_bdbox_js_"+$.getId();window[i]=function(){r.apply(window,[].slice.call(arguments,0))},t.push("func="+i)}t="baiduboxapp://"+e+"?"+t.join("&"),window.webkit.messageHandlers.BBAMNPJSBridgeWebViewComponent.postMessage(t)},androidInvoke:t}},function(e,n,r){"use strict";var t=r(0),o=r(3),i=r(4);function a(e,n,r){if(!t.isBoxApp)return{error:201};if(!t.isAndroid)return{error:202};var o={obj:e,func:n,args:r||[]};try{return window.prompt("BdboxApp:"+JSON.stringify(o))}catch(e){return{error:201}}}e.exports=function(e,n,r){if(r&&!t.isArray(r)&&(r=Array.prototype.slice.call(arguments,0).slice(2)),window[e]&&window[e][n])return{error:0,result:window[e][n].apply(window[e],r),__from:"js"};var s=i();if(o(s,4.8)>=0){var c=a(e,n,r);return(c=c?JSON.parse(c):{}).__from="app",c}return"4.7.1"===s||"4.7"==s?{error:0,result:a(e,n,r),__from:"app4.7"}:{error:200}}},function(e,n,r){"use strict";e.exports={"utils/openShareBox":{ios:{hasCB:!1,versionRange:["5.3.5"],filter:function(){return{module:"callShare",action:"",paramName:"options",extData:{minver:"5.3.5.0"}}},thunk:function(e){return{status:0,message:e,data:{data:e}}}},android:{versionRange:["5.3.5"],hasCB:!1,filter:function(e,n,r){var t={imageUrl:r.iconUrl,title:r.title,content:r.content,linkUrl:r.linkUrl,mediaType:r.mediaType,channel:r.pannel,shareSuccessCB:r.shareSuccessCB||"console.log",shareErrorCB:r.shareErrorCB||"console.log"};return r.type={audio:"2",image:"3",video:"4",other:"1"}[r.type],{module:"Bdbox_android_utils",action:"callShare",data:t}}}}}},function(e,n,r){"use strict";var t=r(6),o=(r(0),r(2)),i=o.versionCompare,a=o.boxVersion,s=o.os;e.exports=function(e,n){var r=t[e];return r&&r.v&&function(e){var n=t[e],r=n.versionRange;if(!r){if(n.notSupport)return!0;r=n[s+"VersionRange"]}var o=r[0];return!(!(i(a,o)>=0)||n.notSupport&&!(n.notSupport.indexOf(s)<0))}(e)?"new":!r&&function(e,n){var r=o.os,t=n[e];if(!t)return!1;var s=t[r];if(!s)return!1;var c=s.versionRange,u=!1,d="",p=!1;return!c||c&&0===c.length?u=!0:p=!!(d=c[0])&&i(a,d)>=0,!(!u&&!p)}(e,n)?"old":void 0}},function(e,n,r){"use strict";var t=r(0);e.exports={toJson:function(e){var n={};try{(n=JSON.parse(e)).status=+n.status}catch(r){n=e}return n},createPromise:function(e,n){return new Promise(function(r,t){window[e]=function(e){0==+(e=n(e)).status?r({res:e.data||{}}):t({errCode:e.status,errMsg:e.message})}})},getParamsCBName:function(){return"_bdbox_pjs_"+t.getId()}}}])});